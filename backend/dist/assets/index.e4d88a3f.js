var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(e,o,s)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s;import{p as r,a as n,d as c,u,r as i,b as l,o as m,c as d,w as p,e as k,f,g as h,h as _,F as g,i as b,j as v,k as R,l as y,m as E,n as T}from"./vendor.c4bbfea9.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const o of t)if("childList"===o.type)for(const t of o.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();r("data-v-1039ba84");const I=h("Task List"),A=h("Chat"),w=h("Text Editor"),L=h("Settings");n();var O=c({setup(t){const e=u();return(t,o)=>{const s=i("router-link"),a=i("n-breadcrumb-item"),r=i("n-breadcrumb"),n=i("n-space"),c=i("n-page-header");return"/auth"!==l(e).path?(m(),d(c,{key:0,class:"page__header"},{header:p((()=>[f(n,{justify:"space-between"},{default:p((()=>[f(r,null,{default:p((()=>[f(a,null,{default:p((()=>[f(s,{to:"/tasks","active-class":"active_route",class:"route"},{default:p((()=>[I])),_:1})])),_:1}),f(a,null,{default:p((()=>[f(s,{to:"/chat","active-class":"active_route",class:"route"},{default:p((()=>[A])),_:1})])),_:1}),f(a,null,{default:p((()=>[f(s,{to:"/text-editor","active-class":"active_route",class:"route"},{default:p((()=>[w])),_:1})])),_:1}),f(a,null,{default:p((()=>[f(s,{to:"/settings","active-class":"active_route",class:"route"},{default:p((()=>[L])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):k("",!0)}}});O.__scopeId="data-v-1039ba84";var j=c({setup:t=>(t,e)=>{const o=i("router-view");return m(),_(g,null,[f(O),f(o)],64)}});const P={},V=function(t,e){return e&&0!==e.length?Promise.all(e.map((t=>{if((t=`/${t}`)in P)return;P[t]=!0;const e=t.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${o}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":"modulepreload",e||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),e?new Promise(((t,e)=>{s.addEventListener("load",t),s.addEventListener("error",e)})):void 0}))).then((()=>t())):t()};function x(t){let e=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let s=0;s<o.length;s++){const a=o[s].trim();if(a.substring(0,t.length+1)===t+"="){e=decodeURIComponent(a.substring(t.length+1));break}}}return e}const S={csrf:"account/csrf-token/",registaration:"account/registration/",login:"account/login/",logout:"account/logout/",deleteAccount:"account/delete-account/",updateAccount:"account/update-account/",userInfo:"account/user-info/",checkAuth:"account/check-auth/",searchUser:"account/search-user/",room:"tasks/room/",members:"tasks/members/",task:"tasks/task/",taskGroup:"tasks/task-groups/"},C=()=>({"X-CSRFToken":x("csrftoken")}),D=b.create({baseURL:"http://127.0.0.1:8000/",withCredentials:!0}),G=(t,e=200)=>{let o;return()=>{clearTimeout(o),o=setTimeout((()=>t()),e)}},z=[{name:"App",path:"/",component:j},{name:"Authorization",path:"/auth",component:()=>V((()=>import("./AuthorizationView.af1027a7.js")),["assets/AuthorizationView.af1027a7.js","assets/AuthorizationView.e0e96e77.css","assets/vendor.c4bbfea9.js","assets/validators.53b6d36c.js"])},{name:"TaskView",path:"/tasks",component:()=>V((()=>import("./TaskView.1e47b125.js")),["assets/TaskView.1e47b125.js","assets/TaskView.24b0fa6b.css","assets/vendor.c4bbfea9.js"])},{name:"Chat",path:"/chat",component:()=>V((()=>import("./ChatView.3861460f.js")),["assets/ChatView.3861460f.js","assets/ChatView.18c08b13.css","assets/vendor.c4bbfea9.js"])},{name:"Settings",path:"/settings",component:()=>V((()=>import("./SettingsView.4714e15d.js")),["assets/SettingsView.4714e15d.js","assets/SettingsView.0d26c4dc.css","assets/vendor.c4bbfea9.js","assets/validators.53b6d36c.js"])},{name:"TextEditor",path:"/text-editor",component:()=>V((()=>import("./TextEditor.87a18063.js")),["assets/TextEditor.87a18063.js","assets/TextEditor.75bb2cbe.css","assets/vendor.c4bbfea9.js"])}],M=v({history:R(),routes:z});M.beforeEach(((t,e,o)=>{"/auth"!==t.path?D.get(S.checkAuth).then((t=>{var e;"success"===(null==(e=t.data)?void 0:e.isAuthenticated)?o():o({name:"Authorization"})})).catch((()=>o({name:"Authorization"}))):o()}));const N=y({state:()=>({taskRoom:{}}),mutations:{clearStore(t){t.taskRoom={}},updateRoomMembers(t,{members:e}){t.taskRoom.members=e},changeRoom(t,{room:r}){t.taskRoom=((t,r)=>{for(var n in r||(r={}))o.call(r,n)&&a(t,n,r[n]);if(e)for(var n of e(r))s.call(r,n)&&a(t,n,r[n]);return t})({},r)},updateTaskStatus(t,{groupIdx:e,taskIdx:o,status:s}){t.taskRoom.task_groups[e].tasks[o].completed=s},appendTask(t,e){for(let o of t.taskRoom.task_groups)if(o.id===e.taskGroupId){o.tasks.push(e.task);break}},removeTask(t,{groupIdx:e,taskId:o}){t.taskRoom.task_groups[e].tasks=t.taskRoom.task_groups[e].tasks.filter((({id:t})=>t!==o))},appendTaskGroup(t,e){t.taskRoom.task_groups.push(e)},removeTaskGroup(t,{taskGroupId:e}){t.taskRoom.task_groups=t.taskRoom.task_groups.filter((({id:t})=>t!==e))}},getters:{taskRoom:t=>t.taskRoom,roomId:t=>t.taskRoom.id,roomMembers:t=>t.taskRoom.members.split(",")}});E(j).use(T).use(N).use(M).mount("#app");export{G as d,S as e,D as r,C as s};
